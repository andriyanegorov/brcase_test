<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Black Russia Cases</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">
</head>
<body>

    <div class="bg-glow bg-glow-1"></div>
    <div class="bg-glow bg-glow-2"></div>

    <div class="live-feed-strip">
        <div class="live-feed-overlay"></div> <div class="live-feed-track" id="live-feed-track">
            <div class="live-item-placeholder">
                <span class="loader-dot"></span> –û–∂–∏–¥–∞–Ω–∏–µ –¥—Ä–æ–ø–æ–≤...
            </div>
        </div>
        <div class="live-fade-left"></div>
        <div class="live-fade-right"></div>
    </div>

    <div id="loading-screen" style="position:fixed; inset:0; background:#09090b; z-index:9999; display:flex; align-items:center; justify-content:center; flex-direction:column;">
        <div class="payment-loader"></div>
        <div style="margin-top:15px; color:#FFD700; font-weight:bold;">–ó–ê–ì–†–£–ó–ö–ê –ü–†–û–§–ò–õ–Ø...</div>
    </div>

    <div id="modal-banned" class="modal-overlay center-modal" style="display:none; z-index: 10000; background: #000;">
        <div class="modal-glass center-modal" style="border-color: #ff4d4d; text-align: center;">
            <div style="font-size: 50px; margin-bottom: 10px;">‚õîÔ∏è</div>
            <h2 style="color: #ff4d4d; margin: 0;">–í–´ –ó–ê–ë–ê–ù–ï–ù–´</h2>
            <p style="color: #ccc; font-size: 13px; margin: 15px 0;">–î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–µ–π.</p>
            <div style="background: rgba(255,77,77,0.1); padding: 10px; border-radius: 8px; border: 1px solid rgba(255,77,77,0.3);">
                <div style="font-size: 10px; color: #ff4d4d; font-weight: bold; text-transform: uppercase;">–ü—Ä–∏—á–∏–Ω–∞:</div>
                <div id="ban-reason-text" style="font-size: 14px; color: #fff; font-weight: bold;">–ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª</div>
            </div>
            <button class="btn-secondary" onclick="tg.close()" style="margin-top: 20px;">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <div id="blur-container">
        <header>
            <div class="brand-box">
                <img src="img/logo.png" alt="Logo" class="brand-logo-img" onerror="this.src='https://placehold.co/100x100/1a1a1a/ffffff?text=Logo'">
                <div class="brand-info">
                    <span class="brand-main">BLACK RUSSIA</span>
                    <span class="brand-sub">CASES</span>
                </div>
            </div>

            <div class="header-right">
                <div class="balance-glass" onclick="switchTab('shop')">
                    <span id="user-balance">0</span> ‚ÇΩ
                    <div class="btn-add-balance">+</div>
                </div>
                
                <div class="profile-btn" onclick="openProfileModal()">
                    <img id="header-avatar" src="img/avatar_placeholder.png" alt="Profile" onerror="this.src='https://placehold.co/100x100/1a1a1a/ffffff?text=User'">
                </div>
            </div>
        </header>

        <main>
            <div id="tab-cases" class="section active">
                <div class="hero-section">
                    <h1>Black Russia Cases</h1>
                    <p>–õ—É—á—à–∏–π –ø—Ä–æ–µ–∫—Ç –ø–æ –∫–µ–π—Å–∞–º Black Russia</p>
                </div>

                <div class="section-divider"><span>–ë–ï–°–ü–õ–ê–¢–ù–û</span></div>
                <div class="cases-grid" id="cases-free"></div>

                <div class="section-divider"><span>–ì–õ–ê–í–ù–û–ï</span></div>
                <div class="cases-grid" id="cases-default"></div>

                <div class="section-divider"><span>–ù–ê–ë–û–†–´</span></div>
                <div class="cases-grid" id="cases-bundles"></div>

                <div class="section-divider"><span>–†–ò–°–ö</span></div>
                <div class="cases-grid" id="cases-risk"></div>

                <div class="section-divider"><span>–ö–û–ù–¢–ï–ô–ù–ï–†–´</span></div>
                <div class="cases-grid" id="containers"></div>

                <div class="info-card warning">
                    <div class="info-icon">‚ö†Ô∏è</div>
                    <div class="info-text">
                        –í—ã–≤–æ–¥ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –≤ –≤–∏—Ä—Ç–∞—Ö.<br>
                        <b>–ö—É—Ä—Å: 1‚ÇΩ = 10,000 –í–∏—Ä—Ç</b>
                    </div>
                </div>
            </div>

            <div id="tab-upgrade" class="section">
                 <div class="hero-section small">
                    <h1>–ê–ø–≥—Ä–µ–π–¥</h1>
                    <p>–ü–æ–≤—ã—à–∞–π —Å—Ç–∞–≤–∫–∏</p>
                </div>

                <div class="upgrade-wrapper">
                    <div class="upgrade-slots-row">
                        <div class="upg-card glass-panel" id="upg-source-slot" onclick="openUpgradeSelector()">
                            <div class="upg-card-header">–¢–í–û–ô –ü–†–ï–î–ú–ï–¢</div>
                            <div class="upg-card-body">
                                <div class="placeholder-icon">+</div>
                                <img id="upg-source-img" src="" style="display:none" onerror="this.src='https://placehold.co/100x100/1a1a1a/ffffff?text=No+Image'">
                                <div id="upg-source-price" class="price-badge" style="display:none">0 ‚ÇΩ</div>
                            </div>
                        </div>

                        <div class="upg-arrow">
                            <svg viewBox="0 0 24 24"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>
                        </div>

                        <div class="upg-card glass-panel target">
                            <div class="upg-card-header">–†–ï–ó–£–õ–¨–¢–ê–¢</div>
                            <div class="upg-card-body">
                                <div id="upg-target-placeholder" class="placeholder-icon" style="opacity:0.3">?</div>
                                <div id="upg-not-found" class="error-text" style="display:none">–ù–ï–¢ –î–†–û–ü–ê</div>
                                
                                <div id="upg-target-content" style="display:none">
                                    <img id="upg-target-img" src="" onerror="this.src='https://placehold.co/100x100/1a1a1a/ffffff?text=No+Image'">
                                    <div id="upg-target-price" class="price-badge gold">0 ‚ÇΩ</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="glass-panel controls-panel">
                        <div class="multipliers-grid">
                            <button onclick="setUpgradeMultiplier(1.5)">x1.5</button>
                            <button onclick="setUpgradeMultiplier(2)">x2.0</button>
                            <button onclick="setUpgradeMultiplier(5)">x5.0</button>
                            <button onclick="setUpgradeMultiplier(10)">x10</button>
                        </div>
                        
                        <div class="slider-wrapper">
                            <div class="slider-labels">
                                <span>–®–∞–Ω—Å</span>
                                <span id="upg-chance-display">50%</span>
                            </div>
                            <input type="range" id="upg-chance-slider" min="1" max="75" value="50" oninput="updateUpgradeCalculation()">
                        </div>
                    </div>

                    <div class="roll-container glass-panel">
                        <div class="roll-track-neon">
                            <div class="roll-win-area" id="roll-win-zone" style="width: 50%;"></div>
                            <div class="roll-pointer" id="roll-pointer"></div>
                            <div class="roll-lines">
                                <i></i><i></i><i></i><i></i><i></i>
                            </div>
                        </div>
                    </div>

                    <div id="upg-status-text" class="status-text"></div>

                    <button id="btn-do-upgrade" class="btn-primary big-btn" onclick="startUpgrade()" disabled>
                        <span>–£–õ–£–ß–®–ò–¢–¨</span>
                        <div class="btn-glow"></div>
                    </button>
                </div>
            </div>

            <div id="tab-contract" class="section">
                <div class="hero-section small">
                    <h1>–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã</h1>
                    <p>–û–±–º–µ–Ω—è–π 5-10 –ø—Ä–µ–¥–º–µ—Ç–æ–≤</p>
                </div>

                <div class="info-card" style="margin-bottom: 15px;">
                     <div class="info-text" style="text-align:center; width:100%;">
                        –í—ã–±–µ—Ä–∏ –æ—Ç <b>5</b> –¥–æ <b>10</b> –ø—Ä–µ–¥–º–µ—Ç–æ–≤.<br>
                        –®–∞–Ω—Å –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç –¥–æ—Ä–æ–∂–µ: <b>–ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ</b>
                     </div>
                </div>

                <div id="contract-stats" class="contract-stats glass-panel">
                    <div>–í—ã–±—Ä–∞–Ω–æ: <span id="contract-count" class="gold-text">0</span></div>
                    <div>–°—É–º–º–∞: <span id="contract-sum" class="gold-text">0</span> ‚ÇΩ</div>
                </div>

                <div id="contract-grid" class="inventory-grid"></div>
                <div id="contract-empty" class="empty-state" style="display:none;">
                    <div class="empty-icon">üìÇ</div>
                    <p>–ù–µ—Ç –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –¥–ª—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞</p>
                </div>

                <div class="contract-footer">
                    <button id="btn-sign-contract" class="btn-primary big-btn" onclick="signContract()" disabled>
                        <span>–ü–û–î–ü–ò–°–ê–¢–¨ –ö–û–ù–¢–†–ê–ö–¢</span>
                        <div class="btn-glow"></div>
                    </button>
                </div>
            </div>

            <div id="tab-shop" class="section">
                <div class="hero-section small">
                    <h1>–ú–∞–≥–∞–∑–∏–Ω</h1>
                    <p>–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞</p>
                </div>
                
                <div class="promo-box glass-panel">
                    <input type="text" id="promo-input" placeholder="–ü—Ä–æ–º–æ–∫–æ–¥">
                    <button onclick="activatePromo()">‚Üí</button>
                </div>
                 <div style="font-size:10px; color:#666; text-align:center; margin-top:-15px; margin-bottom:15px;">–ü—Ä–æ–º–æ–∫–æ–¥—ã: BONUS, FREE</div>

                <div class="info-card warning" style="margin-bottom: 20px;">
                    <div class="info-icon">‚ö†Ô∏è</div>
                    <div class="info-text">
                        –í–Ω–∏–º–∞–Ω–∏–µ! –ò–∑-–∑–∞ –∫–æ–º–∏—Å—Å–∏–∏ –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –Ω–∞ –±–∞–ª–∞–Ω—Å –∑–∞—á–∏—Å–ª—è–µ—Ç—Å—è <b>99%</b> –æ—Ç —Å—É–º–º—ã –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è.
                    </div>
                </div>

                <div class="shop-grid">
                    <div class="shop-item glass-panel" onclick="initYooPayment(50)">
                        <div class="shop-val">50 ‚ÇΩ</div>
                        <div class="shop-desc">–ù–∞—á–∏–Ω–∞—é—â–∏–π</div>
                    </div>
                    <div class="shop-item glass-panel hit" onclick="initYooPayment(500)">
                        <div class="badge-hit">HIT</div>
                        <div class="shop-val">500 ‚ÇΩ</div>
                        <div class="shop-desc">–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ</div>
                    </div>
                    <div class="shop-item glass-panel gold" onclick="initYooPayment(1000)">
                        <div class="shop-val">1000 ‚ÇΩ</div>
                        <div class="shop-desc">–û–±—ã—á–Ω—ã–π</div>
                    </div>
                    <div class="shop-item glass-panel" onclick="initYooPayment(5000)">
                        <div class="shop-val">5000 ‚ÇΩ</div>
                        <div class="shop-desc">–≠–ª–∏—Ç–Ω—ã–π</div>
                    </div>
                </div>

                <div class="custom-pay glass-panel">
                    <input type="number" id="custom-amount" placeholder="–î—Ä—É–≥–∞—è —Å—É–º–º–∞... (–º–∏–Ω. 10 —Ä—É–±)">
                    <button onclick="payCustomAmount()">–û–ø–ª–∞—Ç–∏—Ç—å</button>
                </div>

                <div id="payment-status-box" class="payment-status-box" style="display:none;">
                    <div class="payment-loader"></div>
                    <div class="payment-info">
                        <span class="p-title">–û–∂–∏–¥–∞–Ω–∏–µ –æ–ø–ª–∞—Ç—ã...</span>
                        <span class="p-desc">–ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ –¥–ª—è –æ–ø–ª–∞—Ç—ã</span>
                    </div>
                </div>
            </div>

            <div id="tab-inventory" class="section">
                <div class="inventory-header">
                    <h2>–ì–∞—Ä–∞–∂</h2>
                    <button id="btn-sell-all" class="btn-danger-small" onclick="sellAllItems()" style="display:none;">–ü—Ä–æ–¥–∞—Ç—å –≤—Å—ë</button>
                </div>
                
                <div id="inventory-grid" class="inventory-grid"></div>
                
                <div id="empty-inventory" class="empty-state" style="display:none;">
                    <div class="empty-icon">üìÇ</div>
                    <p>–ó–¥–µ—Å—å –ø–æ–∫–∞ –ø—É—Å—Ç–æ</p>
                    <span>–û—Ç–∫—Ä—ã–≤–∞–π –∫–µ–π—Å—ã, —á—Ç–æ–±—ã –ø–æ–ø–æ–ª–Ω–∏—Ç—å –≥–∞—Ä–∞–∂</span>
                </div>
            </div>
        </main>
    </div> 

    <nav class="glass-nav">
        <button class="nav-item active" onclick="switchTab('cases')">
            <div class="nav-icon">üì¶</div>
            <span>–ö–µ–π—Å—ã</span>
        </button>
        <button class="nav-item" onclick="switchTab('upgrade')">
            <div class="nav-icon">‚ö°Ô∏è</div>
            <span>–ê–ø–≥—Ä–µ–π–¥</span>
        </button>
        <button class="nav-item" onclick="switchTab('contract')">
            <div class="nav-icon">üìú</div>
            <span>–ö–æ–Ω—Ç—Ä–∞–∫—Ç</span>
        </button>
        <button class="nav-item" onclick="switchTab('shop')">
            <div class="nav-icon">üí≥</div>
            <span>–ë–∞–ª–∞–Ω—Å</span>
        </button>
        <button class="nav-item" onclick="switchTab('inventory')">
            <div class="nav-icon">üöò</div>
            <span>–ì–∞—Ä–∞–∂</span>
        </button>
    </nav>

    <div class="modal-overlay" id="modal-preview">
        <div class="modal-glass slide-up">
            <button class="btn-close" onclick="closeModal('modal-preview')">‚úï</button>
            <div class="case-preview-top">
                <img id="preview-img" src="" onerror="this.src='https://placehold.co/100x100/1a1a1a/ffffff?text=No+Image'">
                <h2 id="preview-title">Case Name</h2>
                <div class="price-pill" id="preview-price">0 ‚ÇΩ</div>
            </div>
            
            <div id="sub-timer" class="sub-timer" style="display:none;"></div>
            <button id="btn-sub-check" class="btn-primary btn-sub-check" style="display:none;" onclick="checkSubscriptionAction()">–ü–û–î–ü–ò–°–ê–¢–¨–°–Ø</button>
            <button id="btn-sub-verify" class="btn-primary btn-sub-verify" style="display:none; background:#4CAF50; margin-bottom:10px;" onclick="verifySubscriptionWithBackend()">–ü–†–û–í–ï–†–ò–¢–¨ –ü–û–î–ü–ò–°–ö–£</button>

            <div class="qty-selector" id="qty-selector">
                <button class="qty-btn active" onclick="setOpenCount(1)">x1</button>
                <button class="qty-btn" onclick="setOpenCount(2)">x2</button>
                <button class="qty-btn" onclick="setOpenCount(5)">x5</button>
                <button class="qty-btn" onclick="setOpenCount(10)">x10</button>
            </div>
            <div class="items-scroller-title">–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:</div>
            <div class="items-scroller" id="preview-items-container"></div>
            <div class="modal-footer-sticky">
                <label class="toggle-fast">
                    <input type="checkbox" id="fast-open-check">
                    <span class="toggle-track"></span>
                    <span>–ë—ã—Å—Ç—Ä–æ</span>
                </label>
                <button id="btn-open-case" class="btn-primary big-btn" onclick="startRouletteSequence()">
                    –û–¢–ö–†–´–¢–¨ –ó–ê <span id="btn-total-price">0</span> ‚ÇΩ
                </button>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="modal-inventory-action">
        <div class="modal-glass center-modal modern-item-modal">
            <button class="btn-close" onclick="closeModal('modal-inventory-action')" style="z-index: 20;">‚úï</button>
            <div class="modern-card-bg" id="inv-bg-glow"></div>
            <div class="inv-action-content">
                <div class="item-showcase">
                    <img id="inv-item-img" src="" onerror="this.src='https://placehold.co/100x100/1a1a1a/ffffff?text=No+Image'">
                    <div class="item-rarity-badge" id="inv-rarity-badge">LEGENDARY</div>
                </div>
                <div class="item-info-block">
                    <h3 id="inv-item-name">Item Name</h3>
                    <div class="price-tag-modern"><span id="inv-item-price">0</span> ‚ÇΩ</div>
                </div>
                <div class="item-stats-row">
                    <div class="stat-box"><div class="stat-label">–í –ò–ì–†–£</div><div class="stat-value" id="inv-item-virt-price">0 –í–∏—Ä—Ç</div></div>
                    <div class="stat-box"><div class="stat-label">–¢–∏–ø</div><div class="stat-value">–ü—Ä–µ–¥–º–µ—Ç</div></div>
                </div>
                <div class="action-buttons-modern">
                    <button class="btn-sell-modern" onclick="sellCurrentItem()"><span>–ü–†–û–î–ê–¢–¨</span><span class="btn-subtext">+<span id="sell-btn-price">0</span> ‚ÇΩ</span></button>
                    <button class="btn-withdraw-modern" onclick="withdrawCurrentItem()"><span>–ó–ê–ë–†–ê–¢–¨</span><span class="btn-subtext">–í –ò–ì–†–£</span></button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="modal-upg-select">
        <div class="modal-glass center-modal full-height">
            <button class="btn-close" onclick="closeModal('modal-upg-select')">‚úï</button>
            <h3>–í—ã–±–µ—Ä–∏ –ø—Ä–µ–¥–º–µ—Ç</h3>
            <div class="upg-select-list" id="upg-select-grid"></div>
        </div>
    </div>

    <div class="modal-overlay" id="modal-profile">
        <div class="modal-glass center-modal">
            <button class="btn-close" onclick="closeModal('modal-profile')">‚úï</button>
            <h3>–ü—Ä–æ—Ñ–∏–ª—å</h3>
            <div class="profile-scroll-area">
                <div class="profile-stats">
                    <div class="stat-line"><span>ID:</span> <span id="profile-uid">...</span></div>
                    <div class="stat-line"><span>–ë–∞–ª–∞–Ω—Å:</span> <span id="profile-bal" class="gold-text">0</span></div>
                </div>

                <div class="settings-form">
                    <div class="input-group"><label>–ù–∏–∫–Ω–µ–π–º</label><input type="text" id="setting-nick" placeholder="Ivan_Ivanov"></div>
                    <div class="row-group">
                        <div class="input-group"><label>–°–µ—Ä–≤–µ—Ä</label><select id="setting-server">
                                <option value="Red">Red</option><option value="Green">Green</option><option value="Blue">Blue</option>
                                <option value="Yellow">Yellow</option><option value="Orange">Orange</option><option value="Purple">Purple</option>
                                <option value="Lime">Lime</option><option value="Pink">Pink</option><option value="Cherry">Cherry</option>
                                <option value="Black">Black</option><option value="Indigo">Indigo</option><option value="White">White</option>
                                <option value="Magenta">Magenta</option><option value="Crimson">Crimson</option><option value="Gold">Gold</option>
                                <option value="Azure">Azure</option><option value="Platinum">Platinum</option><option value="Aqua">Aqua</option>
                                <option value="Gray">Gray</option><option value="Ice">Ice</option><option value="Chilli">Chilli</option>
                                <option value="Choco">Choco</option><option value="Moscow">Moscow</option><option value="SPB">SPB</option>
                                <option value="Ufa">Ufa</option><option value="Sochi">Sochi</option><option value="Kazan">Kazan</option>
                                <option value="Samara">Samara</option><option value="Rostov">Rostov</option><option value="Anapa">Anapa</option>
                                <option value="EKB">EKB</option><option value="Krasnodar">Krasnodar</option><option value="Arzamas">Arzamas</option>
                                <option value="Novosib">Novosib</option><option value="Grozny">Grozny</option><option value="Saratov">Saratov</option>
                                <option value="Omsk">Omsk</option><option value="Irkutsk">Irkutsk</option><option value="Volgograd">Volgograd</option>
                                <option value="Voronezh">Voronezh</option><option value="Belgorod">Belgorod</option><option value="Makhachkala">Makhachkala</option>
                                <option value="Vladikavkaz">Vladikavkaz</option><option value="Vladivostok">Vladivostok</option><option value="Kaliningrad">Kaliningrad</option>
                                <option value="Chelyabinsk">Chelyabinsk</option><option value="Krasnoyarsk">Krasnoyarsk</option><option value="Cheboksary">Cheboksary</option>
                                <option value="Khabarovsk">Khabarovsk</option><option value="Perm">Perm</option><option value="Tula">Tula</option>
                                <option value="Ryazan">Ryazan</option><option value="Murmansk">Murmansk</option><option value="Penza">Penza</option>
                                <option value="Kursk">Kursk</option><option value="Arkhangelsk">Arkhangelsk</option><option value="Orenburg">Orenburg</option>
                                <option value="Kirov">Kirov</option><option value="Kemerovo">Kemerovo</option><option value="Tyumen">Tyumen</option>
                                <option value="Tolyatti">Tolyatti</option><option value="Ivanovo">Ivanovo</option><option value="Stavropol">Stavropol</option>
                                <option value="Smolensk">Smolensk</option><option value="Pskov">Pskov</option><option value="Bryansk">Bryansk</option>
                                <option value="Orel">Orel</option><option value="Yaroslavl">Yaroslavl</option><option value="Barnaul">Barnaul</option>
                                <option value="Lipetsk">Lipetsk</option><option value="Ulyanovsk">Ulyanovsk</option><option value="Yakutsk">Yakutsk</option>
                                <option value="Tambov">Tambov</option><option value="Bratsk">Bratsk</option><option value="Astrakhan">Astrakhan</option>
                                <option value="Chita">Chita</option><option value="Kostroma">Kostroma</option><option value="Vladimir">Vladimir</option>
                                <option value="Kaluga">Kaluga</option><option value="Novgorod">Novgorod</option><option value="Taganrog">Taganrog</option>
                                <option value="Vologda">Vologda</option><option value="Tver">Tver</option><option value="Tomsk">Tomsk</option>
                                <option value="Izhevsk">Izhevsk</option><option value="Surgut">Surgut</option><option value="Podolsk">Podolsk</option>
                                <option value="Magadan">Magadan</option><option value="Cherepovets">Cherepovets</option><option value="Norilsk">Norilsk</option>
                        </select></div>
                        <div class="input-group"><label>–°—á–µ—Ç</label><input type="number" id="setting-bank" placeholder="0000"></div>
                    </div>
                    <button class="btn-primary" onclick="saveSettings()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>

                <div class="section-divider"><span>–ü–ê–†–¢–ù–ï–†–°–ö–ê–Ø –ü–†–û–ì–†–ê–ú–ú–ê</span></div>
                
                <div class="ref-card glass-panel" style="margin-bottom: 10px;">
                    <div class="ref-header">–¢–≤–æ–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫</div>
                    <div class="ref-balance"><span id="ref-earn-display">0</span> ‚ÇΩ</div>
                    <div class="ref-stats-row">
                        <div class="ref-stat">
                            <div class="rs-val" id="ref-count-display">0</div>
                            <div class="rs-label">–î—Ä—É–∑–µ–π</div>
                        </div>
                        <div class="ref-stat">
                            <div class="rs-val">10 ‚ÇΩ</div>
                            <div class="rs-label">–ó–∞ –¥—Ä—É–≥–∞</div>
                        </div>
                    </div>
                </div>

                <div class="ref-link-box glass-panel" style="padding: 10px;">
                    <div style="font-size: 11px; color: #888; margin-bottom: 5px;">–¢–≤–æ—è —Å—Å—ã–ª–∫–∞ –¥–ª—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è:</div>
                    <div class="ref-link-row">
                        <input type="text" id="ref-link-input" readonly value="–ó–∞–≥—Ä—É–∑–∫–∞...">
                        <button onclick="copyRefLink()">COPY</button>
                    </div>
                </div>
                <div class="history-block" style="margin-top:20px;">
                    <h4>–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</h4>
                    <div class="history-scroll-container"><div id="history-list"></div></div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="modal-win">
        <div class="modal-glass center-modal win-modal" id="win-modal-content">
            <div class="win-light" id="win-light-bg"></div>
            <h2 class="win-title">–ü–û–ë–ï–î–ê!</h2>
            <div id="win-grid" class="win-grid"></div>
            <div class="win-sum">–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: <span id="win-total-price">0</span> ‚ÇΩ</div>
            <div class="win-actions">
                <button class="btn-secondary" onclick="finishWin(false)">–ü—Ä–æ–¥–∞—Ç—å</button>
                <button class="btn-primary" onclick="finishWin(true)">–í –≥–∞—Ä–∞–∂</button>
            </div>
        </div>
    </div>
    
    <div class="modal-overlay" id="modal-withdraw-success">
        <div class="modal-glass center-modal small-modal">
            <div class="icon-success" style="font-size:40px; color:#4CAF50; text-align:center;">‚úî</div>
            <h3 style="text-align:center;">–ì–æ—Ç–æ–≤–æ</h3>
            <p id="withdraw-success-msg" style="text-align:center; color:#ccc; font-size:13px; margin:10px 0;">–ó–∞—è–≤–∫–∞ —Å–æ–∑–¥–∞–Ω–∞</p>
            <button class="btn-primary" onclick="closeModal('modal-withdraw-success')">OK</button>
        </div>
    </div>

    <div class="roulette-overlay" id="modal-roulette">
        <div class="roulette-status" id="roulette-status">–û–¢–ö–†–´–í–ê–ï–ú...</div>
        <div id="roulette-strips-container" class="roulette-strips-container"></div>
    </div>

    <script src="script.js"></script>
</body>
</html>
